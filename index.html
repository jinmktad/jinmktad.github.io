<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>리드메이커스 상담 신청</title>
  <meta name="description" content="리드 상담/문의 접수 폼" />
  <style>
    :root{
      --bg:#f6f7fb; --card:#ffffff; --text:#111827; --muted:#6b7280;
      --primary:#1e64ff; --border:#d7dbe3; --shadow:0 10px 24px rgba(0,0,0,.08);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .wrap{
      width:100%; max-width:720px; background:var(--card); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:28px;
    }
    h1{margin:0 0 24px; text-align:center; font-size:28px;}
    .grid{display:grid; grid-template-columns:1fr; gap:14px;}
    .row{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
    @media (max-width:560px){ .row{grid-template-columns:1fr;} }
    label{font-weight:700; font-size:14px; margin-bottom:6px; display:block;}
    input,select,textarea{
      width:100%; padding:14px; border:1px solid var(--border); border-radius:10px; font-size:16px;
      background:#fff;
    }
    textarea{min-height:120px; resize:vertical;}
    button{
      padding:14px 16px; font-size:17px; border:0; border-radius:12px;
      background:var(--primary); color:#fff; font-weight:700; cursor:pointer;
    }
    .hint{color:var(--muted); font-size:13px;}
  </style>
</head>
<body>
  <main class="wrap">
    <h1>리드메이커스 상담 신청</h1>

    <!-- ✅ 네이티브 제출 (페이지 이동) -->
    <form class="grid" method="POST"
      action="https://script.google.com/macros/s/AKfycbwgnEgoJnahzftsN7PmITfBaOe95xkg7gXlq2CEBId-pih8Lv-SvZa_McxAD8nt5EoZNw/exec"
      onsubmit="fillHidden();">

      <div class="row">
        <div>
          <label for="name">이름 *</label>
          <input id="name" type="text" name="name" placeholder="홍길동" required>
        </div>
        <div>
          <label for="phone">연락처 *</label>
          <input id="phone" type="tel" name="phone" placeholder="010-0000-0000" required>
        </div>
      </div>

      <div class="row">
        <div>
          <label for="category">관심 분야</label>
          <select id="category" name="category" aria-label="관심 분야">
            <option value="">선택(선택)</option>
            <option value="부동산 분양">부동산 분양</option>
            <option value="프랜차이즈 창업">프랜차이즈 창업</option>
            <option value="정책자금 컨설팅">정책자금 컨설팅</option>
            <option value="교육/학원">교육/학원</option>
          </select>
        </div>
        <div>
          <label for="biz">사업명</label>
          <input id="biz" type="text" name="사업명" placeholder="예: 시그니처 속초">
        </div>
      </div>

      <div class="row">
        <div>
          <label for="email">이메일</label>
          <input id="email" type="email" name="email" placeholder="you@email.com">
        </div>
        <div>
          <label for="region">지역</label>
          <input id="region" type="text" name="region" placeholder="예: 서울특별시">
        </div>
      </div>

      <div>
        <label for="message">문의 내용</label>
        <textarea id="message" name="message" placeholder="상담 요청 내용을 적어주세요."></textarea>
      </div>

      <span class="hint">* 는 필수 입력 항목입니다.</span>

      <!-- ✅ 자동 수집/리다이렉트용 hidden 필드 -->
      <input type="hidden" name="utm_source">
      <input type="hidden" name="utm_medium">
      <input type="hidden" name="utm_campaign">
      <input type="hidden" name="utm_term">
      <input type="hidden" name="utm_content">
      <input type="hidden" name="referrer">
      <input type="hidden" name="user_agent">
      <input type="hidden" name="page">
      <!-- Apps Script가 이 주소로 리디렉션 -->
      <input type="hidden" name="redirect" value="https://jinmktad.github.io/thank-you.html">

      <button type="submit">상담 신청하기</button>
    </form>
  </main>

  <script>
    // 제출 직전 hidden 값 채우기
    function fillHidden(){
      const qs = new URLSearchParams(location.search);
      const f  = document.forms[0];

      f.utm_source.value   = qs.get('utm_source')   || '';
      f.utm_medium.value   = qs.get('utm_medium')   || '';
      f.utm_campaign.value = qs.get('utm_campaign') || '';
      f.utm_term.value     = qs.get('utm_term')     || '';
      f.utm_content.value  = qs.get('utm_content')  || '';

      f.referrer.value   = document.referrer || '';
      f.user_agent.value = navigator.userAgent || '';
      f.page.value       = location.pathname + location.search;
    }
  </script>
</body>
</html>
